{# Page affiché après le click du bouton modifier le mot de passe #}
{% extends 'layouts/base.html.twig' %}

{% block title 'Village green' %}

{% block body %}
    <header id="background">
        <div class="container reset-password-request">
            {# header navigation #} 
            {{ include('/layouts/header_navigation.html.twig') }}  

            {# card réinitialiser le mot de passe #}
            <div class=" d-flex justify-content-center mt-5">
                <div class="col-11 card card-reset">
                    <div class="card-body">
                        {# message d'erreur #}
                        <div class="row d-flex justify-content-center">
                            <div class="col">
                                {% for flashError in app.flashes('reset_password_error') %}
                                    <div class="alert alert-danger rounded mb-3 FlashError" role="alert">{{ flashError }}</div> {# envoie une erreur si le lien token est mort c'est à dire si le lien à déja était utilisé ou si le token est modifié ou si la durée limite est dépassé #}
                                {% endfor %} 
                            </div>  
                        </div>
                                        
                        {# corp de la card de réinitialisation #}
                        <h5 class="card-title text-center">Réinitialiser votre mot de passe</h5>
                        <div class="row d-flex justify-content-center">
                            <div class="col-7 mt-3">
                                {{ form_start(requestForm, {attr: {novalidate: 'novalidate'}}) }}
                                    {{ form_row(requestForm.email) }}
                                    <div class="text-center">
                                        <small>
                                            Entrez votre adresse e-mail et nous vous enverrons un
                                            lien pour réinitialiser votre mot de passe.
                                        </small>
                                    </div>
                                    <div class="col text-center">
                                        <button type="submit" class="btn btn-primary w-50">Réinitialiser le mot de passe</button>
                                    </div>
                                {{ form_end(requestForm) }}
                            </div>
                        </div> 
                    </div>
                </div>
            </div>

            {# footer #} 
            {{ include('/layouts/footer.html.twig') }}
        </div> {# fermeture du container products #}   
    </header>
{% endblock %}
